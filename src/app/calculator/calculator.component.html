
<p-toast></p-toast>

<div class="surface-section text-center px-4 py-8 md:px-6 lg:px-8">
  <div class="bg-blue-50 text-blue-600 font-bold border-round px-2 py-1 mx-auto mb-3" style="max-width: 350px">
      ðŸ”¥&nbsp;HARARE INSTITUTE OF TECHNOLOGY CALCULATOR</div>
  <div class="text-2xl text-900 font-bold mb-3">Perform Calculations  today</div>
  <p class="text-600 line-height-3 mb-6">Roy Kanavheti & Hillary Mutimbanyoka
  </p>

<span class="p-buttonset">
    <button pButton pRipple label="" icon="pi pi-minus" size="large" (click)="actionChange('MINUS')"></button>
    <button pButton pRipple label="" icon="pi pi-plus" size="large" (click)="actionChange('ADD')"></button>
    <button pButton pRipple label="/" size="large" (click)="actionChange('DIVIDE')"></button>
    <button pButton pRipple label="" icon="pi pi-times" size="large" (click)="actionChange('MULTIPLY')"></button>
</span>

  <form [formGroup]="form">
    <div class="grid formgrid p-fluid">
      <div class="field mb-4 col-5 md:col-5">
        <label for="firstValue" class="font-medium text-900">First Value</label>
        <p-inputNumber  formControlName="firstValue" inputId="locale-us" mode="decimal"  locale="en-US" [minFractionDigits]="2"> </p-inputNumber>
        <small *ngIf="isControlHasError('firstValue','required')" id="firstValue" class="p-error block">First value is required!</small>
        </div>
        <div class="field mb-4 col-2 md:col-2">
          <label for="firstValue" class="font-medium text-900">.</label>
          <p-button label="{{action}}" severity="success"></p-button>
        </div>
        <div class="field mb-4 col-5 md:col-5">
          <label for="secondValue" class="font-medium text-900">Second Value</label>
          <p-inputNumber  formControlName="secondValue" inputId="locale-us" mode="decimal" locale="en-US" [minFractionDigits]="2"> </p-inputNumber>
          <small *ngIf="isControlHasError('secondValue','required')" id="secondValue" class="p-error block">Second value is required!</small>
          </div>
      </div>

    </form>
    <div class="flex mt-4 justify-content-center">
      <h3>ANSWER IS {{calculatorObj?.answer}}</h3>
    </div>
    <div class="flex mt-4 justify-content-center">
      <button pButton pRipple label="CALCULATE" icon="pi pi-wrench" class="w-auto" (click)="checkErrorAndSubmit()"
        [disabled]="loading || this.form.invalid"></button>
    </div>
    <div class="flex mt-4 justify-content-center">
      <button pButton pRipple label="REFRESH CALCULATION LIST" icon="pi pi-refresh" class="w-auto" (click)="getItems()"
       ></button>
    </div>

    <p-table  [value]="items"   [paginator]="true" [rows]="10" [loading]="loading"  [resizableColumns]="true" [responsive]="true">
      <ng-template pTemplate="header">
          <tr>
            <th>DATE</th>
              <th>ACTION</th>
              <th>FIRST VALUE</th>
              <th>SECOND VALUE</th>
              <th>ANSWER</th>
          </tr>
      </ng-template>
      <ng-template pTemplate="body" let-item>
          <tr>
            <td>{{item?.dateCreated | date:"dd/MM/yyyy HH:mm"}}</td>
              <td>{{item?.action}}</td>
              <td>{{item?.firstValue}}</td>
              <td>{{item?.secondValue}}</td>
              <td>{{item?.answer}}</td>
          </tr>
      </ng-template>
    </p-table>
</div>
